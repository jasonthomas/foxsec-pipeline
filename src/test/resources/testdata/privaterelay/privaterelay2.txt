# Invalid per state, will generate an alert
{"insertId":"2gx64yb2zqdscfkfw","jsonPayload":{"Logger":"fx-private-relay","Type":"events","Fields":{"relay_address_id":1111,"relay_address":"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz","real_address":"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb","msg":"email_relay","fxa_uid":"00000000000000000000000000000000"},"EnvVersion":"2.0","Timestamp":240000000000,"Severity":6,"Pid":9,"Hostname":"fxprivaterelay-prod-fxprivaterelay"},"resource":{"type":"k8s_container","labels":{"pod_name":"fxprivaterelay-prod-fxprivaterelay","project_id":"moz-fx-fxprivaterel","location":"us-west1","namespace_name":"prod-fxprivate","cluster_name":"fxprivaterelay","container_name":"fxprivaterelay"}},"timestamp":"2020-01-01T01:00:00.000000000Z","severity":"ERROR","labels":{"k8s-pod/app_kubernetes_io/name":"fxprivaterelay","k8s-pod/fullname":"fxprivaterelay","k8s-pod/app_kubernetes_io/part-of":"fxprivaterelay","k8s-pod/app_kubernetes_io/instance":"prod","k8s-pod/pod-template-hash":"000000000","k8s-pod/jenkins-build-id":"121","k8s-pod/app_kubernetes_io/version":"1.0.0","k8s-pod/app_kubernetes_io/managed-by":"jenkins","k8s-pod/app_kubernetes_io/component":"app"},"logName":"projects/moz-fx-fxprivaterel/logs/stderr","receiveTimestamp":"2020-07-03T19:01:11.000024423Z"}

# Previous event would have triggered a state update, so this one shouldn't alert
{"insertId":"2gx64yb2zqdscfkfw","jsonPayload":{"Logger":"fx-private-relay","Type":"events","Fields":{"relay_address_id":1111,"relay_address":"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz","real_address":"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb","msg":"email_relay","fxa_uid":"00000000000000000000000000000000"},"EnvVersion":"2.0","Timestamp":240000000001,"Severity":6,"Pid":9,"Hostname":"fxprivaterelay-prod-fxprivaterelay"},"resource":{"type":"k8s_container","labels":{"pod_name":"fxprivaterelay-prod-fxprivaterelay","project_id":"moz-fx-fxprivaterel","location":"us-west1","namespace_name":"prod-fxprivate","cluster_name":"fxprivaterelay","container_name":"fxprivaterelay"}},"timestamp":"2020-01-01T01:00:00.000000000Z","severity":"ERROR","labels":{"k8s-pod/app_kubernetes_io/name":"fxprivaterelay","k8s-pod/fullname":"fxprivaterelay","k8s-pod/app_kubernetes_io/part-of":"fxprivaterelay","k8s-pod/app_kubernetes_io/instance":"prod","k8s-pod/pod-template-hash":"000000000","k8s-pod/jenkins-build-id":"121","k8s-pod/app_kubernetes_io/version":"1.0.0","k8s-pod/app_kubernetes_io/managed-by":"jenkins","k8s-pod/app_kubernetes_io/component":"app"},"logName":"projects/moz-fx-fxprivaterel/logs/stderr","receiveTimestamp":"2020-07-03T19:01:11.000024423Z"}

# Forward event for a UID we don't know about, should result in a cached entry
{"insertId":"2gx64yb2zqdscfkfw","jsonPayload":{"Logger":"fx-private-relay","Type":"events","Fields":{"relay_address_id":1111,"relay_address":"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz","real_address":"cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc","msg":"email_relay","fxa_uid":"11111111111111111111111111111111"},"EnvVersion":"2.0","Timestamp":600000000000,"Severity":6,"Pid":9,"Hostname":"fxprivaterelay-prod-fxprivaterelay"},"resource":{"type":"k8s_container","labels":{"pod_name":"fxprivaterelay-prod-fxprivaterelay","project_id":"moz-fx-fxprivaterel","location":"us-west1","namespace_name":"prod-fxprivate","cluster_name":"fxprivaterelay","container_name":"fxprivaterelay"}},"timestamp":"2020-01-01T01:00:00.000000000Z","severity":"ERROR","labels":{"k8s-pod/app_kubernetes_io/name":"fxprivaterelay","k8s-pod/fullname":"fxprivaterelay","k8s-pod/app_kubernetes_io/part-of":"fxprivaterelay","k8s-pod/app_kubernetes_io/instance":"prod","k8s-pod/pod-template-hash":"000000000","k8s-pod/jenkins-build-id":"121","k8s-pod/app_kubernetes_io/version":"1.0.0","k8s-pod/app_kubernetes_io/managed-by":"jenkins","k8s-pod/app_kubernetes_io/component":"app"},"logName":"projects/moz-fx-fxprivaterel/logs/stderr","receiveTimestamp":"2020-07-03T19:01:11.000024423Z"}
{"insertId":"2gx64yb2zqdscfkfw","jsonPayload":{"Logger":"fx-private-relay","Type":"events","Fields":{"relay_address_id":1111,"relay_address":"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz","real_address":"cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc","msg":"email_relay","fxa_uid":"11111111111111111111111111111111"},"EnvVersion":"2.0","Timestamp":600000000000,"Severity":6,"Pid":9,"Hostname":"fxprivaterelay-prod-fxprivaterelay"},"resource":{"type":"k8s_container","labels":{"pod_name":"fxprivaterelay-prod-fxprivaterelay","project_id":"moz-fx-fxprivaterel","location":"us-west1","namespace_name":"prod-fxprivate","cluster_name":"fxprivaterelay","container_name":"fxprivaterelay"}},"timestamp":"2020-01-01T01:00:00.000000000Z","severity":"ERROR","labels":{"k8s-pod/app_kubernetes_io/name":"fxprivaterelay","k8s-pod/fullname":"fxprivaterelay","k8s-pod/app_kubernetes_io/part-of":"fxprivaterelay","k8s-pod/app_kubernetes_io/instance":"prod","k8s-pod/pod-template-hash":"000000000","k8s-pod/jenkins-build-id":"121","k8s-pod/app_kubernetes_io/version":"1.0.0","k8s-pod/app_kubernetes_io/managed-by":"jenkins","k8s-pod/app_kubernetes_io/component":"app"},"logName":"projects/moz-fx-fxprivaterel/logs/stderr","receiveTimestamp":"2020-07-03T19:01:11.000024423Z"}

# Will alert based on previously cached state data above
{"insertId":"2gx64yb2zqdscfkfw","jsonPayload":{"Logger":"fx-private-relay","Type":"events","Fields":{"relay_address_id":1111,"relay_address":"zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz","real_address":"dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd","msg":"email_relay","fxa_uid":"11111111111111111111111111111111"},"EnvVersion":"2.0","Timestamp":1200000000000,"Severity":6,"Pid":9,"Hostname":"fxprivaterelay-prod-fxprivaterelay"},"resource":{"type":"k8s_container","labels":{"pod_name":"fxprivaterelay-prod-fxprivaterelay","project_id":"moz-fx-fxprivaterel","location":"us-west1","namespace_name":"prod-fxprivate","cluster_name":"fxprivaterelay","container_name":"fxprivaterelay"}},"timestamp":"2020-01-01T01:00:00.000000000Z","severity":"ERROR","labels":{"k8s-pod/app_kubernetes_io/name":"fxprivaterelay","k8s-pod/fullname":"fxprivaterelay","k8s-pod/app_kubernetes_io/part-of":"fxprivaterelay","k8s-pod/app_kubernetes_io/instance":"prod","k8s-pod/pod-template-hash":"000000000","k8s-pod/jenkins-build-id":"121","k8s-pod/app_kubernetes_io/version":"1.0.0","k8s-pod/app_kubernetes_io/managed-by":"jenkins","k8s-pod/app_kubernetes_io/component":"app"},"logName":"projects/moz-fx-fxprivaterel/logs/stderr","receiveTimestamp":"2020-07-03T19:01:11.000024423Z"}
